#Creating Namespaces & Utilpods
kubectl create ns prod
kubectl create ns dev
kubectl create ns qa

#Labling Namespaces
kubectl label ns prod nsp=prod
kubectl label ns dev nsp=dev
kubectl label ns qa nsp=qa

#Deploy  pod in all namespaces
ku run -n prod prod1 --image=abhinay1619/troubleshootingtools:v1 -l ns=prod
ku run -n prod prod2 --image=abhinay1619/troubleshootingtools:v1 -l ns=prod

ku run -n dev dev1 --image=abhinay1619/troubleshootingtools:v1 -l ns=dev
ku run -n dev dev2 --image=abhinay1619/troubleshootingtools:v1 -l ns=dev

ku run -n qa qa1 --image=abhinay1619/troubleshootingtools:v1 --labels ns=qa
ku run -n qa qa2 --image=abhinay1619/troubleshootingtools:v1 --labels ns=qa

ku get po -n prod -o wide --no-headers && ku get po -n dev -o wide --no-headers && ku get po -n qa -o wide --no-headers

alias allpods='ku get po -n prod -o wide --no-headers && ku get po -n dev -o wide --no-headers && ku get po -n qa -o wide --no-headers'



ku exec -it  prod1 -n prod -- ping -c 3  100.109.63.69 \
&& ku exec -it  prod2 -n prod -- ping -c 3  100.118.134.5 \
&& ku exec -it  prod1 -n prod -- ping -c 3   100.96.42.197     \
&& ku exec -it  prod2 -n prod -- ping -c 3   100.109.63.70


ku exec -it  dev1 -n dev -- ping -c 3    100.109.63.68 \
&& ku exec -it  dev2 -n dev -- ping -c 3  100.96.42.196 \
&& ku exec -it  dev1 -n dev -- ping -c 3   100.96.42.197 \
&& ku exec -it  dev2 -n dev -- ping -c 3 100.109.63.70


ku exec -it  qa1 -n qa -- ping -c 3     100.109.63.69  \
&& ku exec -it  qa2 -n qa -- ping -c 3   100.118.134.5  \
&& ku exec -it  qa1 -n qa -- ping -c 3  100.109.63.68 \
&& ku exec -it  qa2 -n qa -- ping -c 3   100.96.42.196
